<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="base.module_category_base" model="ir.module.category">
        <field name="description">Base Modules</field>
        <field name="sequence">0</field>
    </record>
    <record id="base.module_category_base_core" model="ir.module.category">
        <field name="description">Basic core modules</field>
        <field name="sequence">0</field>
    </record>

    <data noupdate="1">
        <!-- 只能访问 company_id 和 company_ids 中的公司数据，用户id为2的用户不受此规则限制 -->
        <record id="eist_companies_rule_multi_company" model="ir.rule">
            <field name="name">Users can only access their own company data</field>
            <field name="model_id" ref="base.model_res_company"/>
            <field eval="True" name="global"/>
            <field name="domain_force">[('id', 'in', company_ids + [False])]</field>
            <field name="active" eval="False"/>
        </record>

        <!--
          只能访问自己 company_id 和 company_ids 的系统用户，
          排除 id为2的用户，
          id为2的用户不受此规则限制
        -->
        <record id="eist_users_rule_multi_company_system_user" model="ir.rule">
            <field name="name">Users can only access their own company system user data</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field eval="True" name="global"/>
            <field name="domain_force">['&amp;', '|', ('company_id', 'in', user.company_ids.ids), ('company_ids', 'in', user.company_ids.ids), ('id', 'not in', [2])]</field>
            <field name="active" eval="False"/>
        </record>

        <!-- 只能访问自己公司的合作伙伴数据 -->
        <!-- <record id="eist_partners_rule_multi_company" model="ir.rule">
            <field name="name">Users can only access their own company partner data</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field eval="True" name="global"/>
            <field name="domain_force">['|', ('share', '=', False), ('company_id', 'in', [])]</field>
            <field name="active" eval="False"/>
        </record> -->
    </data>
</odoo>