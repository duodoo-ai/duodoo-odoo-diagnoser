<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="1">
    <data>
        <!-- ================ 设备类别 ================ -->
        <!-- 控制类设备类别记录 -->
        <record id="category_control" model="maintenance.equipment.category">
            <!-- 设备类别名称 -->
            <field name="name">Control Equipment</field>
            <!-- 关联的技术人员用户 ID -->
            <field name="technician_user_id" ref="base.user_admin"/>
        </record>

        <!-- 电机类设备类别记录 -->
        <record id="category_motor" model="maintenance.equipment.category">
            <!-- 设备类别名称 -->
            <field name="name">Motor Equipment</field>
        </record>

        <!-- 传感类设备类别记录 -->
        <record id="category_sensor" model="maintenance.equipment.category">
            <!-- 设备类别名称 -->
            <field name="name">Sensor Equipment</field>
        </record>

        <!-- ================ 设备 ================ -->
        <!-- PLC 控制系统设备记录 -->
        <record id="equipment_plc_001" model="maintenance.equipment">
            <!-- 设备名称 -->
            <field name="name">PLC Control System #001</field>
            <!-- 关联的设备类别 ID -->
            <field name="category_id" ref="category_control"/>
            <!-- 设备分类 -->
            <field name="equipment_category">control</field>
            <!-- 设备状态 -->
            <field name="status">active</field>
            <!-- 设备技术数据 -->
            <field name="technical_data">Siemens S7-1500 Series, supports Modbus TCP communication</field>
            <!-- 设备序列号 -->
            <field name="serial_no">PLC-CTRL-2023-001</field>
            <!-- 设备型号 -->
            <field name="model">S7-1515F</field>
            <!-- 设备位置 -->
            <field name="location">Production Line Area A</field>
        </record>

        <!-- 主驱动电机设备记录 -->
        <record id="equipment_motor_001" model="maintenance.equipment">
            <!-- 设备名称 -->
            <field name="name">Main Drive Motor #001</field>
            <!-- 关联的设备类别 ID -->
            <field name="category_id" ref="category_motor"/>
            <!-- 设备分类 -->
            <field name="equipment_category">motor</field>
            <!-- 设备状态 -->
            <field name="status">active</field>
            <!-- 设备技术数据 -->
            <field name="technical_data">Three-phase asynchronous motor, power 55kW, rated speed 1480rpm</field>
            <!-- 传动类型 -->
            <field name="drive_type">V-belt Drive</field>
            <!-- 电机功率 -->
            <field name="motor_power">55</field>
            <!-- 额定转速 -->
            <field name="rated_speed">1480</field>
            <!-- 轴承类型 -->
            <field name="bearing_type">6310 Deep Groove Ball Bearing</field>
            <!-- 预期使用寿命 -->
            <field name="expected_life">10</field>
            <!-- 润滑周期 -->
            <field name="lubrication_period">90</field>
            <!-- 联轴器类型 -->
            <field name="coupling_type">Elastic Coupling</field>
            <!-- 电气参数 -->
            <field name="electrical_params">Rated Voltage: 380V, Rated Current: 105A, Insulation Class: F</field>
            <!-- 设备序列号 -->
            <field name="serial_no">MOT-55KW-2023-001</field>
            <!-- 设备型号 -->
            <field name="model">Y2-280M-4</field>
            <!-- 设备位置 -->
            <field name="location">Production Line Area B</field>
        </record>

        <!-- 温度传感器设备记录 -->
        <record id="equipment_sensor_001" model="maintenance.equipment">
            <!-- 设备名称 -->
            <field name="name">Temperature Sensor #001</field>
            <!-- 关联的设备类别 ID -->
            <field name="category_id" ref="category_sensor"/>
            <!-- 设备分类 -->
            <field name="equipment_category">sensor</field>
            <!-- 设备状态 -->
            <field name="status">active</field>
            <!-- 设备技术数据 -->
            <field name="technical_data">PT100 Temperature Sensor, measurement range: -50°C ~ 200°C, accuracy: ±0.5°C</field>
            <!-- 设备序列号 -->
            <field name="serial_no">TEMP-SEN-2023-001</field>
            <!-- 设备型号 -->
            <field name="model">PT100-4-20mA</field>
            <!-- 设备位置 -->
            <field name="location">Reactor #1</field>
        </record>

        <!-- 冷却水泵电机设备记录 -->
        <record id="equipment_motor_002" model="maintenance.equipment">
            <!-- 设备名称 -->
            <field name="name">Cooling Water Pump Motor #001</field>
            <!-- 关联的设备类别 ID -->
            <field name="category_id" ref="category_motor"/>
            <!-- 设备分类 -->
            <field name="equipment_category">motor</field>
            <!-- 设备状态 -->
            <field name="status">maintenance</field>
            <!-- 设备技术数据 -->
            <field name="technical_data">Abnormal vibration detected, requires maintenance</field>
            <!-- 电机功率 -->
            <field name="motor_power">22</field>
            <!-- 额定转速 -->
            <field name="rated_speed">2900</field>
            <!-- 设备序列号 -->
            <field name="serial_no">MOT-22KW-2023-002</field>
            <!-- 设备型号 -->
            <field name="model">Y2-180M-2</field>
            <!-- 设备位置 -->
            <field name="location">Cooling Tower Area</field>
        </record>

        <!-- ================ 监测数据 ================ -->
        <!-- 修正所有监测数据的时间戳字段 -->
        <!-- 主驱动电机第一次监测数据记录 -->
        <record id="monitoring_data_motor_001_1" model="equipment.monitoring.data">
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_001"/>
            <!-- 监测时间戳 -->
            <field name="timestamp" eval="(datetime.now() - timedelta(days=1)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 转速 -->
            <field name="rotation_speed">1475</field>
            <!-- 振动速度 -->
            <field name="vibration_velocity">2.1</field>
            <!-- 加速度包络 1 -->
            <field name="acceleration_env1">0.15</field>
            <!-- 加速度包络 2 -->
            <field name="acceleration_env2">0.08</field>
            <!-- 温度 -->
            <field name="temperature">42.5</field>
        </record>

        <!-- 主驱动电机第二次监测数据记录 -->
        <record id="monitoring_data_motor_001_2" model="equipment.monitoring.data">
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_001"/>
            <!-- 监测时间戳 -->
            <field name="timestamp" eval="(datetime.now() - timedelta(hours=6)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 转速 -->
            <field name="rotation_speed">1490</field>
            <!-- 振动速度 -->
            <field name="vibration_velocity">1.8</field>
            <!-- 加速度包络 1 -->
            <field name="acceleration_env1">0.12</field>
            <!-- 加速度包络 2 -->
            <field name="acceleration_env2">0.07</field>
            <!-- 温度 -->
            <field name="temperature">45.2</field>
        </record>

        <!-- 冷却水泵电机第一次监测数据记录 -->
        <record id="monitoring_data_motor_002_1" model="equipment.monitoring.data">
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_002"/>
            <!-- 监测时间戳 -->
            <field name="timestamp" eval="(datetime.now() - timedelta(days=2)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 转速 -->
            <field name="rotation_speed">2910</field>
            <!-- 振动速度 -->
            <field name="vibration_velocity">5.8</field>
            <!-- 加速度包络 1 -->
            <field name="acceleration_env1">0.45</field>
            <!-- 加速度包络 2 -->
            <field name="acceleration_env2">0.32</field>
            <!-- 温度 -->
            <field name="temperature">65.3</field>
        </record>

        <!-- 冷却水泵电机第二次监测数据记录 -->
        <record id="monitoring_data_motor_002_2" model="equipment.monitoring.data">
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_002"/>
            <!-- 监测时间戳 -->
            <field name="timestamp" eval="(datetime.now() - timedelta(hours=3)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 转速 -->
            <field name="rotation_speed">2935</field>
            <!-- 振动速度 -->
            <field name="vibration_velocity">6.5</field>
            <!-- 加速度包络 1 -->
            <field name="acceleration_env1">0.52</field>
            <!-- 加速度包络 2 -->
            <field name="acceleration_env2">0.38</field>
            <!-- 温度 -->
            <field name="temperature">68.7</field>
        </record>

        <!-- ================ 告警规则 ================ -->
        <!-- 主电机振动告警规则记录 -->
        <record id="alert_rule_motor_vibration" model="equipment.alert.rule">
            <!-- 告警规则名称 -->
            <field name="name">Main Motor Vibration Alert</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_001"/>
            <!-- 监测参数 -->
            <field name="parameter">vibration_velocity</field>
            <!-- 告警条件 -->
            <field name="condition">&gt;</field>
            <!-- 告警阈值 -->
            <field name="threshold">4.0</field>
            <!-- 告警严重程度 -->
            <field name="severity">high</field>
        </record>

        <!-- 主电机温度告警规则记录 -->
        <record id="alert_rule_motor_temp" model="equipment.alert.rule">
            <!-- 告警规则名称 -->
            <field name="name">Main Motor Temperature Alert</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_001"/>
            <!-- 监测参数 -->
            <field name="parameter">temperature</field>
            <!-- 告警条件 -->
            <field name="condition">&gt;</field>
            <!-- 告警阈值 -->
            <field name="threshold">70.0</field>
            <!-- 告警严重程度 -->
            <field name="severity">medium</field>
        </record>

        <!-- 冷却水泵振动告警规则记录 -->
        <record id="alert_rule_cooling_vibration" model="equipment.alert.rule">
            <!-- 告警规则名称 -->
            <field name="name">Cooling Water Pump Vibration Alert</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_002"/>
            <!-- 监测参数 -->
            <field name="parameter">vibration_velocity</field>
            <!-- 告警条件 -->
            <field name="condition">&gt;</field>
            <!-- 告警阈值 -->
            <field name="threshold">5.0</field>
            <!-- 告警严重程度 -->
            <field name="severity">high</field>
        </record>

        <!-- ================ 巡检记录 ================ -->
        <!-- 修正所有巡检记录的日期字段 -->
        <!-- 主驱动电机月度巡检记录 -->
        <record id="inspection_motor_001_1" model="equipment.inspection">
            <!-- 巡检记录名称 -->
            <field name="name">Monthly Inspection of Main Drive Motor</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_001"/>
            <!-- 巡检日期 -->
            <field name="inspection_date" eval="(datetime.now() - timedelta(days=30)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 巡检结果 -->
            <field name="result">pass</field>
            <!-- 巡检备注 -->
            <field name="notes">Motor is operating normally, bearings are well-lubricated, and temperature is within the normal range.</field>
        </record>

        <!-- 主驱动电机半月巡检记录 -->
        <record id="inspection_motor_001_2" model="equipment.inspection">
            <!-- 巡检记录名称 -->
            <field name="name">Half-monthly Inspection of Main Drive Motor</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_001"/>
            <!-- 巡检日期 -->
            <field name="inspection_date" eval="(datetime.now() - timedelta(days=15)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 巡检结果 -->
            <field name="result">pass</field>
            <!-- 巡检备注 -->
            <field name="notes">Routine inspection, equipment status is good, vibration value is within the normal range.</field>
        </record>

        <!-- 冷却水泵电机异常检查记录 -->
        <record id="inspection_motor_002_1" model="equipment.inspection">
            <!-- 巡检记录名称 -->
            <field name="name">Abnormal Inspection of Cooling Water Pump Motor</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_002"/>
            <!-- 巡检日期 -->
            <field name="inspection_date" eval="(datetime.now() - timedelta(days=10)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 巡检结果 -->
            <field name="result">fail</field>
            <!-- 巡检备注 -->
            <field name="notes">Abnormal vibration detected, detailed inspection and maintenance are recommended.</field>
        </record>

        <!-- PLC 系统日常巡检记录 -->
        <record id="inspection_plc_001" model="equipment.inspection">
            <!-- 巡检记录名称 -->
            <field name="name">Daily Inspection of PLC System</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_plc_001"/>
            <!-- 巡检日期 -->
            <field name="inspection_date" eval="datetime.now().strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 巡检结果 -->
            <field name="result">pass</field>
            <!-- 巡检备注 -->
            <field name="notes">PLC system is operating normally, program backup is completed, and communication test is passed.</field>
        </record>

        <!-- ================ 维护请求 ================ -->
        <!-- 冷却水泵电机异常振动检修维护请求记录 -->
        <record id="maintenance_request_cooling_motor" model="maintenance.request">
            <!-- 维护请求名称 -->
            <field name="name">Maintenance for Abnormal Vibration of Cooling Water Pump Motor</field>
            <!-- 关联的设备 ID -->
            <field name="equipment_id" ref="equipment_motor_002"/>
            <!-- 维护请求描述 -->
            <field name="description">The cooling water pump motor has abnormal vibration during operation, with a vibration value of 6.5mm/s. Immediate maintenance is required.</field>
            <!-- 维护类型 -->
            <field name="maintenance_type">cm</field> <!-- 添加此行 -->
            <!-- 计划维护日期 -->
            <field name="schedule_date" eval="(datetime.now() + timedelta(days=1)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <!-- 关联的巡检记录 ID -->
            <field name="inspection_id" ref="inspection_motor_002_1"/>
            <!-- 维护请求阶段 ID -->
            <field name="stage_id" ref="maintenance.stage_1"/>
        </record>

        <!-- ================ 二维码生成状态 ================ -->
        <!-- 为 PLC 控制系统设备生成二维码 -->
        <function model="maintenance.equipment" name="generate_qr_code">
            <value eval="[ref('equipment_plc_001')]"/>
        </function>

        <!-- 为主驱动电机设备生成二维码 -->
        <function model="maintenance.equipment" name="generate_qr_code">
            <value eval="[ref('equipment_motor_001')]"/>
        </function>

        <!-- 设置 PLC 控制系统设备二维码生成状态 -->
        <record id="equipment_plc_001" model="maintenance.equipment">
            <field name="qr_code_generated">True</field>
        </record>

        <!-- 设置主驱动电机设备二维码生成状态 -->
        <record id="equipment_motor_001" model="maintenance.equipment">
            <field name="qr_code_generated">True</field>
        </record>

        <!-- ================ 维护团队 ================ -->
        <!-- 电气维护团队记录 -->
        <record id="maintenance_team_electrical" model="maintenance.team">
            <!-- 维护团队名称 -->
            <field name="name">Electrical Maintenance Team</field>
            <!-- 维护团队成员 ID 列表 -->
            <field name="member_ids" eval="[(6, 0, [ref('base.user_admin')])]"/>
        </record>

        <!-- 机械维护团队记录 -->
        <record id="maintenance_team_mechanical" model="maintenance.team">
            <!-- 维护团队名称 -->
            <field name="name">Mechanical Maintenance Team</field>
        </record>
    </data>
</odoo>
